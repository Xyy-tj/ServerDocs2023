# Python与Anaconda使用手册

pip它不香吗？实验室服务器使用conda的主要目的是区分不同用户的python环境，替代virtualenv、pipenv一类单独的环境管理工具。

## 关于Python

- 运行Python代码，或者.py文件，只需要一个Python解释器，也即是常说的安装Python的直接对象。面对不同代码对环境的不同需求，可能需要不同版本的Python解释器，以及不同版本的第三方包，因此需要用不同的Python环境来进行区分。这里可以将环境理解为Python解释器与相关的第三方包的组合。
- 有很多种安装Python的方式。安装完成之后，Python解释器的地址回被添加到系统的环境变量中，因此打开终端，输入`python3 --version`之后，终端知道找谁来解释这句指令，Python解释器也会给出对应的输出。
- 可以在系统上安装各个版本的Python解释器。如果需要指定具体的版本，需要为终端或者IDE指定解释器的路径。修改系统的环境变量是一件麻烦的事情，因此使用环境管理器来更加方便地完成版本的安装和切换。

## 关于Anaconda

- [Anaconda](https://www.anaconda.com/) 附带了一大批常用数据科学包，它附带了 conda、Python 和 150 多个包及其依赖项。因此你可以立即开始处理数据。这是用户一般使用Anaconda的主要原因，捆绑式地软件包使得环境配置相对轻松一些。
- Python默认的包管理器是[pip](https://pip.pypa.io/)，此外还有很多衍生的包管理器，Anaconda使用的就是其中的一种，称为[conda](https://github.com/conda/conda)。其实Anaconda就是基于conda包管理器的一个衍生项目。当然，conda也可以管理Python环境。
- conda可以兼容pip关于包的管理指令，但conda并不能完全兼容所有的第三方包。Anaconda项目的目的是简化科学研究时环境的部署、管理问题，因此conda会聚焦在常用的科学研究处理方面的软件包及其依赖项。
- 因此，服务器配置Anaconda的主要目的是使用conda管理不同用户Python环境，而不是使用conda管理第三方包。用户可以根据自己的项目需求，使用conda、pip或是其他包管理器完成不同环境下第三方包的管理。
- Anaconda拥有一类机制，使得不同用户创建的环境可以共享第三方包的缓存。因此大家配置自己环境时，第三方包的安装配置过程将会非常迅速。

## 管理自己的Python环境

登录到服务器之后，每个用户拥有自己的目录，位于/home/username。用户对于这个目录拥有完全的管理权限，因此所有懂活动都应该基于这一目录进行。用户目录之外的绝大多数位置，用户仅拥有读权限。

服务器上已经配置好了Anaconda，它位于/opt/anaconda。用户组anaconda拥有这个目录的读与执行权限，默认新用户会位于该组。因此，大家拥有conda指令的执行权限，但执行的更改内容仅限于自己的用户目录内部。

使用conda管理自己的Python环境的步骤：

1. 初始化当前用户目录下的conda；
2. 创建自己Python环境；
3. 切换到所需要的环境，运行你的项目。

你可以在用户目录下创建无限多个Python环境。每一个环境内都可以指定Python的版本，以及其他第三方软件包的版本。你的环境仅对于当前账户有效，其他账户并不会看见这个环境。因此你不用担心影响到服务器的Python环境，或是其他用户影响到自己的环境。

## 初始化我的conda

当你首次登录到服务器，运行Python项目之前，请先初始化环境管理器conda。

```sh
conda init
```

conda会修改当前账户的终端配置文件，使得所有conda指令生效。这一步是必须的，否则终端不能正确识别conda的所有指令。

这里你可以进一步配置自己的conda，修改配置文件即可完成相应的配置。

## 管理Python环境

## 切换当前Python环境

